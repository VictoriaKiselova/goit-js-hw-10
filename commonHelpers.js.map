{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst buttonStart = document.querySelector('[data-start]');\nbuttonStart.setAttribute('disabled', false);\nconst myInput = document.getElementById('datetime-picker');\nlet daysTimer = document.querySelector('[data-days]');\nlet hoursTimer = document.querySelector('[data-hours]');\nlet minutesTimer = document.querySelector('[data-minutes]');\nlet secondsTimer = document.querySelector('[data-seconds]');\n\nlet timeLeft;\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    console.log(selectedDates[0]);\n    let userSelectedDate = new Date(selectedDates[0]);\n    let dateNow = new Date();\n    timeLeft = userSelectedDate.getTime() - dateNow.getTime();\n    if (userSelectedDate.getTime() < dateNow.getTime()) {\n      buttonStart.setAttribute('disabled', false);\n      iziToast.show({\n        iconUrl: '../img/javascript.svg#fa-solid',\n        message: 'Please choose a date in the future',\n        color: '#ef4040',\n        messageColor: 'white',\n        timeout: 3000,\n        iconColor: 'black',\n        position: 'topRight',\n      });\n    } else {\n      buttonStart.removeAttribute('disabled');\n    }\n  },\n};\nflatpickr(myInput, options);\n\nfunction convertMs(ms) {\n  console.log(ms);\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  const intervalId = setInterval(() => {\n    ms -= 1000;\n    // Remaining days\n    const days = Math.floor(ms / day);\n    // Remaining hours\n    const hours = Math.floor((ms % day) / hour);\n    // Remaining minutes\n    const minutes = Math.floor(((ms % day) % hour) / minute);\n    // Remaining seconds\n    const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n    if (ms <= 0) {\n      clearInterval(intervalId);\n      buttonStart.removeAttribute('disabled');\n      myInput.removeAttribute('disabled');\n      return;\n    }\n    daysTimer.textContent = `${days}`.padStart(2, '0');\n    hoursTimer.textContent = `${hours}`.padStart(2, '0');\n    minutesTimer.textContent = `${minutes}`.padStart(2, '0');\n    secondsTimer.textContent = `${seconds}`.padStart(2, '0');\n  }, 1000);\n}\nbuttonStart.addEventListener('click', function () {\n  buttonStart.setAttribute('disabled', false);\n  myInput.setAttribute('disabled', false);\n  convertMs(timeLeft);\n});\n"],"names":["buttonStart","myInput","daysTimer","hoursTimer","minutesTimer","secondsTimer","timeLeft","options","selectedDates","userSelectedDate","dateNow","iziToast","flatpickr","convertMs","ms","second","minute","hour","day","intervalId","days","hours","minutes","seconds"],"mappings":"0IAKA,MAAMA,EAAc,SAAS,cAAc,cAAc,EACzDA,EAAY,aAAa,WAAY,EAAK,EAC1C,MAAMC,EAAU,SAAS,eAAe,iBAAiB,EACzD,IAAIC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAe,SAAS,cAAc,gBAAgB,EACtDC,EAAe,SAAS,cAAc,gBAAgB,EAEtDC,EAEJ,MAAMC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrB,QAAQ,IAAIA,EAAc,CAAC,CAAC,EAC5B,IAAIC,EAAmB,IAAI,KAAKD,EAAc,CAAC,CAAC,EAC5CE,EAAU,IAAI,KAClBJ,EAAWG,EAAiB,QAAS,EAAGC,EAAQ,QAAO,EACnDD,EAAiB,QAAO,EAAKC,EAAQ,QAAO,GAC9CV,EAAY,aAAa,WAAY,EAAK,EAC1CW,EAAS,KAAK,CACZ,QAAS,iCACT,QAAS,qCACT,MAAO,UACP,aAAc,QACd,QAAS,IACT,UAAW,QACX,SAAU,UAClB,CAAO,GAEDX,EAAY,gBAAgB,UAAU,CAEzC,CACH,EACAY,EAAUX,EAASM,CAAO,EAE1B,SAASM,EAAUC,EAAI,CACrB,QAAQ,IAAIA,CAAE,EACd,MAAMC,EAAS,IACTC,EAASD,EAAS,GAClBE,EAAOD,EAAS,GAChBE,EAAMD,EAAO,GAEbE,EAAa,YAAY,IAAM,CACnCL,GAAM,IAEN,MAAMM,EAAO,KAAK,MAAMN,EAAKI,CAAG,EAE1BG,EAAQ,KAAK,MAAOP,EAAKI,EAAOD,CAAI,EAEpCK,EAAU,KAAK,MAAQR,EAAKI,EAAOD,EAAQD,CAAM,EAEjDO,EAAU,KAAK,MAAST,EAAKI,EAAOD,EAAQD,EAAUD,CAAM,EAElE,GAAID,GAAM,EAAG,CACX,cAAcK,CAAU,EACxBnB,EAAY,gBAAgB,UAAU,EACtCC,EAAQ,gBAAgB,UAAU,EAClC,MACD,CACDC,EAAU,YAAc,GAAGkB,CAAI,GAAG,SAAS,EAAG,GAAG,EACjDjB,EAAW,YAAc,GAAGkB,CAAK,GAAG,SAAS,EAAG,GAAG,EACnDjB,EAAa,YAAc,GAAGkB,CAAO,GAAG,SAAS,EAAG,GAAG,EACvDjB,EAAa,YAAc,GAAGkB,CAAO,GAAG,SAAS,EAAG,GAAG,CACxD,EAAE,GAAI,CACT,CACAvB,EAAY,iBAAiB,QAAS,UAAY,CAChDA,EAAY,aAAa,WAAY,EAAK,EAC1CC,EAAQ,aAAa,WAAY,EAAK,EACtCY,EAAUP,CAAQ,CACpB,CAAC"}